version: '2'

services:
  kafka-zkless:
    image: quay.io/strimzi/kafka:latest-kafka-2.8.1-amd64
    container_name: kafka-zkless
    ports:
      - "9092:9092"
    environment:
      - LOG_DIR=/tmp/logs
    command: [
      "sh", "-c",
      "./bin/kafka-storage.sh format -t $$(./bin/kafka-storage.sh random-uuid) -c ./config/kraft/server.properties && ./bin/kafka-server-start.sh ./config/kraft/server.properties"
    ]
    tty: true
    stdin_open: true

  informationcoordinator:
    image: o-ran-sc/nonrtric-plt-informationcoordinatorservice:latest
    ports:
      - "8083:8083"

  kafka-client:
    build: .
    ports:
      - "8080:8080"
